@page "/"

<MudTextField @bind-Value="_search" Label="Search" Variant="Variant.Outlined" AutoFocus="true"
              IconSize="Size.Large" DebounceInterval="500" Adornment="Adornment.End" Clearable="true"
              InputMode="InputMode.none" AdornmentIcon="@Icons.Material.Filled.Search" AdornmentColor="Color.Primary" Class="py-4" />

@if (Emoji is null)
{
    <MudProgressCircular Color="Color.Primary" Style="height:5rem;width:5rem;" Indeterminate="true" />
}
else
{
    @foreach (var (group, emojiMap) in Emoji)
    {
        <MudText Typo="Typo.h5" Class="pb-4">@group</MudText>
        <MudDivider DividerType="DividerType.FullWidth" Vertical="false" Class="pb-4" />
        <MudGrid Spacing="4" Justify="Justify.Center" Class="pb-4">
            @foreach (var (name, emoji) in emojiMap)
            {
                <MudItem xs="2">
                    <MudPaper MaxHeight="256" MaxWidth="256" Elevation="3" Class="pa-3">
                        <MudImage Fluid="true" Src=@emoji.DefaultImage Class="rounded-lg"
                                  ObjectPosition="ObjectPosition.Center" />
                        <MudText Typo="Typo.body1" Align="Align.Center">@name</MudText>
                        <MudChip Variant="Variant.Text" Color="Color.Success" Size="Size.Small">
                          v@(emoji.Metadata.FromVersion)
                        </MudChip>
                    </MudPaper>
                </MudItem>
            }
        </MudGrid>
    }
}